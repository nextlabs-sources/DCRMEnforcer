
<!DOCTYPE html>
<html>
  <head>
    <title>User Attributes</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    
    <link href="nxl_jqueryuithemes.css" type="text/css" rel="stylesheet"/>
    <link href="nxl_axurerppage.css" type="text/css" rel="stylesheet"/>
    <link href="nxl_datastyles.css" type="text/css" rel="stylesheet"/>
    <link href="nxl_attributesstyles.css" type="text/css" rel="stylesheet"/>

    <script src="ClientGlobalContext.js.aspx" type="text/javascript"></script>  
    <script src="nxl_sdk.rest.js" type="text/javascript"></script>        
    <script src="nxl_es6promise.js" type="text/javascript"></script>    
    <script src="nxl_sdk.metadata.js" type="text/javascript"></script>
    <script src="nxl_common.js" type="text/javascript"></script>
    <script src="nxl_userproperties.js" type="text/javascript"></script>

  </head>
  <body onload="HiddenCrmRibbonManager();AdjustCrmContentPanelLocation();LoadUserProperties()">
    <div id="base" class="">

	
	    <div id="saveExportImportDiv" class="ax_default" >
			<div id="divTopIconAndText" onclick="RedirectHomePage()";>
				<div id="divIcon">
					<img id="nxl_u69" class="img " src="nxl_u69.png"/>
				</div>
				<div id="divText" class="text">
					<p><span><b>Entitlement Management</b></span></p>
				</div>
			</div>
		    <div id="saveDiv" onclick="SetUserProperties(RefleshPage);" style="float:left; cursor:pointer; width:200px">
				<div style="float:left;width:27px;height:27px;">
					<img id="saveImg" src="nxl_saveimg.png" style="width:27px;height:27px;"/>
				</div>
				<div class="text" style="float:left;margin-top:8px;margin-left:10px;">
					<span style="">Save Attributes</span>
				</div>
			</div>
		    <div id="divSpliteIcon" style="float:left;">
				<img id="divider1" src="nxl_divider.png" style=""/>
			</div>
			<div id="exportDiv" onclick="ExportAndSavePolicyModel();" style="float:left;width: 250px; cursor:pointer;margin-left:20px">
				<div style="float:left;width:27px;height:27px;">
					<img id="exportImg" src="nxl_exportimg.png" style="width:27px;height:27px;"/>
				</div>
				<div style="float:left;margin-top:8px;margin-left:10px;">
					<span style="">Export & Save Selected Attributes</span>
				</div>
			</div>
        </div>
		
		<div id="underline1" class="ax_default line" style="position:relative;left:0px;height:2px;">
          <img id="underline1_img" src="nxl_u105.png" style="width: 1220px; height: 2px;"/>
        </div>
		
      <div id="u1292" class="ax_default image">
        <img id="u1292_img" class="img " src="nxl_u74.png"/>
        <div id="u1293" class="text" style="display:none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>
      <div id="u1294" class="ax_default heading_2">
        <div id="u1294_div" class=""></div>
        <div id="u1295" class="text">
          <p><span>User Attributes</span></p>
        </div>
      </div>
      <div id="u1318" class="ax_default heading_2">
        <div id="u1318_div" class=""></div>
        <div id="u1319" class="text">
          <p><span>Configure User Attributes available for policy authoring and evaluation</span></p>
        </div>
      </div>
      <div id="u1316" class="ax_default line">
        <img id="u1316_img" class="img " src="nxl_u105.png"/>
        <div id="u1317" class="text" style="display:none; visibility: hidden">
          <p><span></span></p>
        </div>
      </div>      
      	
      <div id="u564" class="ax_default image1">
          <img id="u564_img" class="img" src="nxl_u134.png"/>
        </div>
	  
      <div id="u565" class="ax_default paragraph">
		  <p><span>Users will only be able to access selected entities and records that they are authorized for based on the policies defined in the NextLabs CloudAz or Control Center console.</span></p>
      </div>
     
      <div id="totalinfoDiv">
	  <span id="totalinfo"></span>
      </div>	  
	 
	 
	
	 
	 
	 
	 
      <div style="border-width:0px;position:relative;left:102px;top:200px;text-align:left;z-index:0; margin-bottom: 100px;">
	  <table id="attributeblock" class="attrTable" border="1px"> 
	  <thead>
	  <tr>
	      <td class="checkboxTd" style="background-color: rgba(239, 239, 239, 1);">
	          <div id="u589" class="ax_default" data-label="Checkbox" onclick="SelectAllUserProperties(this);" style="height:30px; width:25px;position:relative; margin-left:15px;">
					<div id="u589_state0" class="panel_state" data-label="Unchecked" style="">
					  <div id="u589_state0_content" class="panel_state_content">

						<!-- Unnamed (Image) -->
						<div id="u590" class="ax_default image2">
						  <img id="u590_img" class="img " src="nxl_u169.png"/>
						  <!-- Unnamed () -->
						  <div id="u591" class="text" style="display:none; visibility: hidden">
							<p><span></span></p>
						  </div>
						</div>
					  </div>
					</div>
					<div id="u589_state1" class="panel_state" data-label="Checked" style="visibility: hidden;">
					  <div id="u589_state1_content" class="panel_state_content">

						<!-- Unnamed (Image) -->
						<div id="u592" class="ax_default image2">
						  <img id="u592_img" class="img " src="nxl_u171.png"/>
						  <!-- Unnamed () -->
						  <div id="u593" class="text" style="display:none; visibility: hidden">
							<p><span></span></p>
						  </div>
						</div>
					  </div>
					</div>    
				</div>
				<span id="selectedSort" onclick="SortBySelected();" sort="0" style="position:absolute; margin-left:45px; margin-top:-25px">
			     <img class="img" src="nxl_u323.png">
			    </span>
	      </td>
		  <td class="displayNameTd" style="background-color: rgba(239, 239, 239, 1); cursor:pointer;" onclick="SortByDisplayName();">
		     <span class="tdtextSpan titleText">Display Name</span>
			 <span id="displayNameSort" sort="0">
			     <img class="img" src="nxl_u323.png" />
			 </span>
			 
		  </td>
		  <td class="nameTd" style="background-color: rgba(239, 239, 239, 1); cursor:pointer;"  onclick="SortByLogicalname();">
		     <span class="tdtextSpan titleText">Name</span>
			 <span id="nameSort" sort="0">
			     <img class="img" src="nxl_u323.png" />
		     </span>
		  </td>
		  <td class="dataTypeTd" style="background-color: rgba(239, 239, 239, 1); cursor:pointer;" onclick="SortByDataType();">
		     <span class="tdtextSpan titleText">Data Type</span>
			 <span id="dataTypeSort" sort="0">
			     <img class="img" src="nxl_u323.png" />
			 </span>
		  </td>
		  <td class="requiredTd" style="background-color: rgba(239, 239, 239, 1); cursor:pointer;" onclick="SortByRequired();">
		     <span class="tdtextSpan titleText">Required / Optional</span>
			 <span id="requiredSort" sort="0">
				<img class="img" src="nxl_u323.png" />
			 </span>
		  </td>
		  <td class="descripTd" style="background-color: rgba(239, 239, 239, 1); cursor:pointer;" onclick="SortByDescription();">
		     <span class="tdtextSpan titleText">Description</span>
			 <span id="descriptionSort" sort="0">
				<img class="img" src="nxl_u323.png" />
			 </span>
			 
		  </td>
		  
	  </tr>
	  </thead>
	  <tbody id="userAttrsbody">
	  </tbody>
	  </table> 
	  
	  </div>      

    </div>
	
	<div>
	  <div id="lightbox" 
		style="position: fixed; left: 0px; top: 0px; width: 10000px; height: 10000px; background-color: rgb(47, 79, 79); opacity: 0.607843; z-index: 1010; visibility:hidden;display:none;">
		   <div id="alertPanel" style="position:fixed; left:360px; top: 200px; z-index:1012; visibility:hidden; display:none;">
		   </div>
		   
		</div>
		
	  <div id="workingon" class="ax_default" style="border:1px solid #dddddd; position:fixed; top:300px; left:360px; background: white;z-index:1013; visibility:hidden;display:none;width:400px; height:200px;background:white;">
		     <div id="alerttitle" >
			   <span class="alertTitleText">Save Alert</span>
			</div>
			<img style="position:absolute; left:50px; top:100px;" src="../../_imgs/AdvFind/progress.gif"/>
			<span style="position:absolute; left:100px; top:100px; font-size: 30px; color: #666666;"> Working on it...</span>
		</div>
		
		<div id="saveAlert" class="ax_default">
		    <div id="alerttitle" >
			   <span class="alertTitleText">Save Alert</span>
			</div>	
			<div id="alertsuccessContent" style="position:absolute;top:60px; visibility:hidden; display:none">
				<span  class="alertContent">Selected user attributes saved successfully. Export selected attributes and import into NextLabs CloudAz or Control Center to author policies.</span>
			</div>
			<div id="alertErrorContent" style="position:absolute;top:60px; visibility:hidden; display:none">
			    <span class="errorAlert"> Error in saving selected attribute(s).</span>
				<span id="errorMessage"></span>
			</div>
			<div id="closebuttonDiv">
			    <input class="alertButton" type="submit" value="close" onclick="closeAlert(RefleshPage);"/>
			</div>
		</div>
	
	</div>
	
	
	<div id="footer_div">
		<div id="beginFlag">
			<img src="nxl_u354.png" style="position: absolute; left: 0px; width: 110%; height: 50px;"/>
		</div>
		<input id="save_input" type="submit" value="Save Attributes" onclick="SetUserProperties(RefleshPage);"/>
		<input id="export_input" type="submit" value="Export & Save Selected Attributes" onclick="ExportAndSavePolicyModel();"/>
	</div>
	
  </body>
</html>

<!--
<!DOCTYPE html>

<html>
<head>
    <title>NextLabs User Properties</title>
    <meta charset="utf-8" />
    
    <script src="ClientGlobalContext.js.aspx" type="text/javascript"></script>  
    <script src="nxl_sdk.rest.js" type="text/javascript"></script>        
    <script src="nxl_es6promise.js" type="text/javascript"></script>    
    <script src="nxl_sdk.metadata.js" type="text/javascript"></script>
    <script src="nxl_common.js" type="text/javascript"></script>
    <script src="nxl_userproperties.js" type="text/javascript"></script>

    <style type="text/css">
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        #preferences {
            border: inset;
            padding: 10px 10px;
        }

        #output_area {
            border: inset;
            background-color: gainsboro;
            padding: 10px 10px;
        }
    </style>
</head>
<body onload="HiddenCrmRibbonManager();LoadUserProperties()">
    <div style="height: 200px;">
    <h1>NextLabs User Properties</h1>
    <p>To enable the entitlement management on user properties, please check the properties which you want to enforce, and submit.</p>

    <div>
    <table width="64%"><tr>
    <td width="16%"><h2>User Properties</h2></td>
    <td align="left"><select name="userpropertiesfilter" id="userpropertiesfilter" onchange="ChangeUserPropertiesFilter()">
    <option value="all">All</option>
    <option value="selected">Selected</option>
    <option value="enforced">Enforced</option>
    <option value="standard">Default</option>
    </select></td>
    
    <td><input type="checkbox" id="selectalluserproperties" onclick="SelectAllUserProperties()">Select All</td>
    <td width="7%"><input type="button" onclick="SetUserProperties(RefleshPage)" value="Submit"></td>
    <td width="7%"><input type="button" value="Reset" onclick="ResetUserProperties()"></td>
    <td width="7%"><input type="button" value="Cancel" onclick="location.reload(true);"></td>
    </tr></table>
    </div>
    
    <div id="userproperties_message"></div>
    </div>
    
    <div style="overflow-x:auto;overflow-y:auto;position:absolute;width:99%; top:200px; bottom:0px;">
    <table id="userproperties_results" cellspacing="8" width="64%"></table>
    </div>
    </div>
        
</body>
</html>
-->